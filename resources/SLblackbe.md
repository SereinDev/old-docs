---
title: SL-查云黑
authors: 
  - SOURsLEMONS
tags: [JS,工具]
date: 2023.3.13
---

查询云黑

<!--truncate-->

>这个插件也同时发布在[MineBBS](https://www.minebbs.com/resources/slblackbe-serein.5646/)上

## 使用方法

:::caution
需在配置文件设置监听群号和管理员QQ号,首次启动后生成配置文件，更改后重启面板启用配置文件
:::

### 查询功能

发送：*查云黑*  

查询QQ号或者游戏名字或xuid
对应的玩家是否在云黑黑名单

绑定以及解绑都会发送BDS原版白名单指令进行添加或删除白名单

### 自动监测功能

- 自动监测监听群的群员发送消息的QQ号是否在云黑
- 自动监测监听群新进群群员的QQ号是否在云黑
- 已监测过的QQ号会有一天缓存，不会重复检测
- 并且自动监测的信息通知可以设置直接发送到群聊，或者私聊给管理员通知

### 配置文件

这里只是预览自动生成的配置文件，请不要复制

```json
{
    "expression": "^查云黑(.+)$",
    "response": "${target} 存在违规行为\n================\n玩家ID: ${player_name}\nUUID: ${uuid}\nXUID: ${xuid}\n库来源: ${black_id}\n记录原因: ${info}\n危险等级: ${level}\n玩家QQ: ${qq}\n详细信息：${detail_url}\n================\n",
    "group": [
        "123456789这里填监听群号",
        123456789
    ],
    "operator": [
        "123456这里填管理员账号",
        123456
    ],
    "permission": 0,
    "notify": 1,
    "note1": "note1这里是注释，permission为1则所有人可用,为0则仅管理员账号中可用，notify 用于设置通知模式 1 为默认通知方式，自动检测到的云黑黑名玩家通知发送到触发群里，2 为私聊管理通知方式，自动检测到的云黑黑名玩家通知私发给每位管理员账号(需要和机器人是好友)"
}

```

配置文件与云黑官方插件类似

expression 可自定义正则指令

permission 指令权限 为1则所有人可用,为0则仅管理员账号中可用

response 可自定义查询后的通知信息，并且可用变量，变量与原插件一致

notify 用于设置通知模式 1 为默认通知方式，自动检测到的云黑黑名玩家通知发送到触发群里

group 设置监听群号，不要带""引号，多个群号用逗号分开

operator 设置管理员账号，同上

notify 设置自动检测的通知方式，不会影响指令查询通知方式，1向触发群聊发送通知消息，2向管理员私发发送通知消息

note1 注释

作者群 1028852170
